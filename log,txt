Iniciando Visor de Imágenes V2...
--- Iniciando VisorController (Constructor Simple) ---
--- AppInitializer: Iniciando Proceso de Inicialización Global ---
  [AppInitializer Fase A.1] Inicializando Componentes Base (Modelo, Configuración)...
Mapa de configuración por defecto inicializado con 146 claves.
Mapa DEFAULT_GROUP_COMMENTS inicializado con 37 entradas.
Leyendo configuración desde: D:\Programacion\Eclipse\Workspace 2024-12R\VisorImagenes\config.cfg
Configuración leída. Total claves: 158
--- DEBUG PRE-SINCRONIZACIÓN ---
Tamaño de DEFAULT_CONFIG: 146
Tamaño de loadedConfig (del archivo): 158
DEFAULT_CONFIG contiene 'salto_bloque'?: true
loadedConfig contiene 'salto_bloque'?: true
---------------------------------
Sincronizando configuración cargada con mapa de defaults...
La configuración cargada ya contenía todas las claves por defecto. No se añadieron nuevas.
ConfigurationManager inicializado.
!!! DEBUG: Mapa 'config' INICIALIZADO. HashCode: 601377307
  [AppInitializer Fase A.2] Aplicando Configuración a los contextos del Modelo...
[VisorModel] Inicializando estado por defecto de todos los contextos...
[VisorModel] Retardo del carrusel actualizado a: 3000ms
  [Initializer] Estado de Sincronización cargado: false
  [AppInitializer Fase A.3] Inicializando Servicios Esenciales...
[ThemeManager] Aplicando personalizaciones de color globales...
[ThemeManager] Aplicando estilos de tarjeta con mayor profundidad para JTabbedPane...
[ThemeManager] Estilos de tarjeta con mayor profundidad para JTabbedPane aplicados.
[ThemeManager] Todas las personalizaciones de color globales han sido aplicadas.
[ThemeManager] Tema inicial 'clear' con personalizaciones instalado.
[ThumbnailService] Servicio inicializado. LruCache de miniaturas creado con un tamaño máximo de 200 entradas.
  [AppInitializer Fase A.4] Creando instancia de ProjectManager...
  [AppInitializer] Programando creación de UI y componentes dependientes en EDT...
--- AppInitializer: Inicialización base (fuera de EDT) completada. ---
--- VisorController: Inicialización delegada completada con éxito ---
VisorController instanciado. La inicialización de la UI ha sido programada en el EDT.

--- [AppInitializer Fase B - EDT] Iniciando creación de UI y componentes dependientes ---
  -> Fase B.1: Creando todas las instancias...
[ProjectController] Instancia creada.
[ConfigApplicationManager] Creando instancia refactorizada...
[ConfigApplicationManager] Instancia creada.
[ToolbarBuilder Constructor] Iniciando...
[ToolbarBuilder Constructor] Finalizado.
[ToolbarManager] Instancia creada con éxito.
  -> Fase B.2: Cableando dependencias (sets)...
[MenuBarBuilder] ControllerGlobalActionListener establecido: controlador.VisorController
  -> Fase B.3: Inicialización secuenciada y construcción de UI...
  [ActionFactory] Inicializando Actions principales (no dependientes de la vista)...
[ActionFactory] cargando icono Tematizado: 3008-reset_48x48.png
[ActionFactory] cargando icono Tematizado: 3001-zoom_48x48.png
[ActionFactory] cargando icono Tematizado: 3002-zoom_auto_48x48.png
[ActionFactory] cargando icono Tematizado: 3003-ajustar_al_ancho_48x48.png
[ActionFactory] cargando icono Tematizado: 3004-ajustar_al_alto_48x48.png
[ActionFactory] cargando icono Tematizado: 3005-escalar_para_ajustar_48x48.png
[ActionFactory] cargando icono Tematizado: 3006-zoom_fijo_48x48.png
[ActionFactory] cargando icono Tematizado: 3007-zoom_especifico_48x48.png
[ActionFactory] cargando icono Tematizado: 3009-rellenar_48x48.png
[ActionFactory] cargando icono Tematizado: 20001-zoom_al_cursor_48x48.png
[ActionFactory] cargando icono Tematizado: 1001-primera_48x48.png
[ActionFactory] cargando icono Tematizado: 1002-anterior_48x48.png
[ActionFactory] cargando icono Tematizado: 1003-siguiente_48x48.png
[ActionFactory] cargando icono Tematizado: 1004-ultima_48x48.png
[ActionFactory] cargando icono Tematizado: 2001-rotar_izquierda_48x48.png
[ActionFactory] cargando icono Tematizado: 2002-rotar_derecha_48x48.png
[ActionFactory] cargando icono Tematizado: 2003-espejo_horizontal_48x48.png
[ActionFactory] cargando icono Tematizado: 2004-espejo_vertical_48x48.png
[ActionFactory] cargando icono Tematizado: 2005-recortar_48x48.png
[ActionFactory] cargando icono Tematizado: 5003-ubicacion_de_archivo_48x48.png
[ActionFactory] cargando icono Tematizado: 6001-selector_de_carpetas_48x48.png
[ActionFactory] cargando icono Tematizado: 5002-borrar_48x48.png
[ActionFactory] cargando icono Tematizado: 5001-refrescar_48x48.png
[ActionFactory] cargando icono Tematizado: 4004-lista_48x48.png
[ActionFactory] cargando icono Tematizado: 4003-pantalla_completa_48x48.png
[ActionFactory] cargando icono Tematizado: 7001-subcarpetas_48x48.png
[ActionFactory] cargando icono Tematizado: 7002-mantener_proporciones_48x48.png
[ToggleProporcionesAction Constructor] Estado inicial SELECTED_KEY: true (desde modelo)
[ActionFactory] cargando icono Tematizado: 10001-sync_on_48x48.png
[ActionFactory] cargando icono Tematizado: 7003-marcar_imagen_48x48.png
[ActionFactory] cargando icono Tematizado: 8002-mostrar_favoritos_48x48.png
[ActionFactory] cargando icono Tematizado: 8001-modo_visualizador_48x48.png
[ActionFactory] cargando icono Tematizado: 21005-iniciar_exportación.png
[ActionFactory] cargando icono Tematizado: 6001-selector_de_carpetas_48x48.png
[ActionFactory] cargando icono Tematizado: 6002-menu_48x48.png
[ActionFactory] cargando icono Tematizado: 6003-botones_ocultos_48x48.png
[ActionFactory] cargando icono Tematizado: 4007-imagen_unica_48x48.png
  [ActionFactory] Action registrada/actualizada para comando: cmd.vista.single
[ActionFactory] cargando icono Tematizado: 4002-grid_48x48.png
  [ActionFactory] Action registrada/actualizada para comando: cmd.vista.grid
[ActionFactory] cargando icono Tematizado: 4006-polaroid48x48.png
  [ActionFactory] Action registrada/actualizada para comando: cmd.vista.polaroid
[ActionFactory] cargando icono Tematizado: 4005-carrousel_48x48.png
  [ActionFactory] Action registrada/actualizada para comando: cmd.vista.carousel
[ActionFactory] cargando icono Tematizado: 8003-datos_48x48.png
  [ActionFactory] Action registrada/actualizada para comando: cmd.modo.datos
[ActionFactory] cargando icono Tematizado: 8004-edicion_48x48.png
  [ActionFactory] Action registrada/actualizada para comando: cmd.modo.edicion
  [ActionFactory] Actions principales inicializadas y mapeadas. Total: 101
  [ViewBuilder] Iniciando la construcción del frame principal con estructura CardLayout...
[VisorView Constructor SIMPLIFICADO] Iniciando...
  [ViewBuilder] Toolbar container creado con estructura BorderLayout (WEST, CENTER, EAST).
  [ToolbarManager getToolbar] La barra 'barra_estado_controles' no está en caché. Construyéndola ahora...

--- [ToolbarBuilder] Construyendo barra: 'Controles de Estado' ---
    -> Separador añadido a la barra.
    -> JLabel 'label.control.zoomPorcentaje' añadido a la barra.
  [DEBUG ToolbarManager] Añadiendo AncestorListener a la barra: 'barra_estado_controles'
    -> Barra 'barra_estado_controles' registrada en ComponentRegistry con la clave: 'toolbar.barra_estado_controles'
<<<<< DEBUG: 'GridDisplayPanel' y su 'list.grid' interna han sido registrados. >>>>>
  [ToolbarManager getToolbar] La barra 'controles_imagen_inferior' no está en caché. Construyéndola ahora...

--- [ToolbarBuilder] Construyendo barra: 'Controles de Imagen' ---
[ToolbarBuilder.crearComponenteIndividual] Construyendo DPadComponent para tipo: DPAD_CRUZ
  [DEBUG ToolbarManager] Añadiendo AncestorListener a la barra: 'controles_imagen_inferior'
    -> Barra 'controles_imagen_inferior' registrada en ComponentRegistry con la clave: 'toolbar.controles_imagen_inferior'
  [ProjectBuilder] Construyendo el panel del modo proyecto (Dashboard)...
  [ToolbarManager getToolbar] La barra 'acciones_exportacion' no está en caché. Construyéndola ahora...

--- [ToolbarBuilder] Construyendo barra: 'Acciones de Exportación' ---
  [DEBUG ToolbarManager] Añadiendo AncestorListener a la barra: 'acciones_exportacion'
    -> Barra 'acciones_exportacion' registrada en ComponentRegistry con la clave: 'toolbar.acciones_exportacion'
  -> Panel de exportación registrado con la clave 'panel.proyecto.exportacion' para el refresco del tema.
  [ProjectBuilder] Panel del modo proyecto (Dashboard) construido y ensamblado.
  [ViewBuilder] Frame principal construido y ensamblado.
    -> VisorView (JFrame) creado.
    -> Inyectando la instancia de 'view' en los componentes...
  [ActionFactory] Inicializando Actions dependientes de la vista...
[ToggleMiniatureTextAction Constructor] Configurada con clave de estado: interfaz.menu.vista.mostrar_nombres_en_miniaturas.seleccionado
  [ActionFactory] Action registrada/actualizada para comando: cmd.carousel.play
  [ActionFactory] Action registrada/actualizada para comando: cmd.carousel.pause
  [ActionFactory] Action registrada/actualizada para comando: cmd.carousel.stop
  [ActionFactory] Action registrada/actualizada para comando: cmd.carousel.rewind
  [ActionFactory] Action registrada/actualizada para comando: cmd.carousel.fast_forward
  [ActionFactory] Actions dependientes de la vista inicializadas. Total de actions: 111
[DisplayModeManager] Listener de selección conectado al Grid.
    -> DisplayModeManager configurado y conectado.
  [ProjectManager] Proyecto cargado desde D:\Programacion\Eclipse\Workspace 2024-12R\VisorImagenes\.proyectos\seleccion_actual.txt. Selección: 31, Descartes: 3
[ProjectManager] Instancia inicializada. Selección actual desde: D:\Programacion\Eclipse\Workspace 2024-12R\VisorImagenes\.proyectos\seleccion_actual.txt
  -> Proyecto inicial cargado. Selección: 31, Descartes: 3
  [StatusBarManager] Configurando Listeners para controles de la barra de estado...
    -> MouseListener configurado para 'label.control.zoomPorcentaje'.
    -> ActionListener configurado para el botón de Modo de Zoom.
  -> Fase B.4: Ensamblaje final, visibilidad y carga de datos...
--- MenuBarBuilder: Iniciando construcción de JMenuBar ---
  [MenuBarBuilder] ActionMap recibido con 111 acciones.
  [MenuBarBuilder] controllerGlobalActionListener: PRESENTE (VisorController)
  [MenuBarBuilder] Procesando elementos raíz de la estructura del menú...
--- MenuBarBuilder: Construcción de JMenuBar completada. ---
  [MenuBarBuilder] Total de JMenuItems mapeados por clave de configuración: 225
  [MenuBarBuilder] JMenuBar registrada en ComponentRegistry con la clave 'menubar.main'.
--- MenuBarBuilder: Construcción de JMenuBar completada. ---

--- [ToolbarManager] Iniciando reconstrucción del contenedor de toolbars para el modo: VISUALIZADOR ---
  [ToolbarManager getToolbar] La barra 'navegacion' no está en caché. Construyéndola ahora...

--- [ToolbarBuilder] Construyendo barra: 'Navegación' ---
  [DEBUG ToolbarManager] Añadiendo AncestorListener a la barra: 'navegacion'
    -> Barra 'navegacion' registrada en ComponentRegistry con la clave: 'toolbar.navegacion'
  [ToolbarManager getToolbar] La barra 'edicion' no está en caché. Construyéndola ahora...

--- [ToolbarBuilder] Construyendo barra: 'Edición' ---
  [DEBUG ToolbarManager] Añadiendo AncestorListener a la barra: 'edicion'
    -> Barra 'edicion' registrada en ComponentRegistry con la clave: 'toolbar.edicion'
  [ToolbarManager getToolbar] La barra 'zoom' no está en caché. Construyéndola ahora...

--- [ToolbarBuilder] Construyendo barra: 'Zoom' ---
    -> Creado ButtonGroup para la barra: 'zoom'
      -> Botón Toggle 'cmd.zoom.tipo.ajustar' añadido al ButtonGroup.
      -> Botón Toggle 'cmd.zoom.tipo.auto' añadido al ButtonGroup.
      -> Botón Toggle 'cmd.zoom.tipo.ancho' añadido al ButtonGroup.
      -> Botón Toggle 'cmd.zoom.tipo.alto' añadido al ButtonGroup.
      -> Botón Toggle 'cmd.zoom.tipo.rellenar' añadido al ButtonGroup.
      -> Botón Toggle 'cmd.zoom.tipo.fijo' añadido al ButtonGroup.
      -> Botón Toggle 'cmd.zoom.tipo.especificado' añadido al ButtonGroup.
  [DEBUG ToolbarManager] Añadiendo AncestorListener a la barra: 'zoom'
    -> Barra 'zoom' registrada en ComponentRegistry con la clave: 'toolbar.zoom'
  -> Visibilidad condicional para 'zoom': true
  [ToolbarManager getToolbar] La barra 'vista' no está en caché. Construyéndola ahora...

--- [ToolbarBuilder] Construyendo barra: 'Vista' ---
    -> Creado ButtonGroup para la barra: 'vista'
      -> Botón Toggle 'cmd.vista.single' añadido al ButtonGroup.
      -> Botón Toggle 'cmd.vista.polaroid' añadido al ButtonGroup.
      -> Botón Toggle 'cmd.vista.grid' añadido al ButtonGroup.
  [DEBUG ToolbarManager] Añadiendo AncestorListener a la barra: 'vista'
    -> Barra 'vista' registrada en ComponentRegistry con la clave: 'toolbar.vista'
  [ToolbarManager getToolbar] La barra 'control' no está en caché. Construyéndola ahora...

--- [ToolbarBuilder] Construyendo barra: 'Utilidades' ---
  [DEBUG ToolbarManager] Añadiendo AncestorListener a la barra: 'control'
    -> Barra 'control' registrada en ComponentRegistry con la clave: 'toolbar.control'
  [ToolbarManager getToolbar] La barra 'proyecto_vista' no está en caché. Construyéndola ahora...

--- [ToolbarBuilder] Construyendo barra: 'Proyecto (Vista)' ---
  [DEBUG ToolbarManager] Añadiendo AncestorListener a la barra: 'proyecto_vista'
    -> Barra 'proyecto_vista' registrada en ComponentRegistry con la clave: 'toolbar.proyecto_vista'
  [ToolbarManager getToolbar] La barra 'toggle' no está en caché. Construyéndola ahora...

--- [ToolbarBuilder] Construyendo barra: 'Toggles' ---
  [DEBUG ToolbarManager] Añadiendo AncestorListener a la barra: 'toggle'
    -> Barra 'toggle' registrada en ComponentRegistry con la clave: 'toolbar.toggle'
  [ToolbarManager getToolbar] La barra 'sincronizacion' no está en caché. Construyéndola ahora...

--- [ToolbarBuilder] Construyendo barra: 'Sincronización' ---
  [DEBUG ToolbarManager] Añadiendo AncestorListener a la barra: 'sincronizacion'
    -> Barra 'sincronizacion' registrada en ComponentRegistry con la clave: 'toolbar.sincronizacion'
  [ToolbarManager getToolbar] La barra 'modo' no está en caché. Construyéndola ahora...

--- [ToolbarBuilder] Construyendo barra: 'Modo' ---
    -> Creado ButtonGroup para la barra: 'modo'
      -> Botón Toggle 'cmd.vista.switch_to_visualizador' añadido al ButtonGroup.
      -> Botón Toggle 'cmd.proyecto.gestionar' añadido al ButtonGroup.
      -> Botón Toggle 'cmd.modo.datos' añadido al ButtonGroup.
      -> Botón Toggle 'cmd.modo.edicion' añadido al ButtonGroup.
      -> Botón Toggle 'cmd.vista.carousel' añadido al ButtonGroup.
  [DEBUG ToolbarManager] Añadiendo AncestorListener a la barra: 'modo'
    -> Barra 'modo' registrada en ComponentRegistry con la clave: 'toolbar.modo'
  [ToolbarManager getToolbar] La barra 'especiales' no está en caché. Construyéndola ahora...

--- [ToolbarBuilder] Construyendo barra: 'Apoyo' ---
  [DEBUG ToolbarManager] Añadiendo AncestorListener a la barra: 'especiales'
    -> Barra 'especiales' registrada en ComponentRegistry con la clave: 'toolbar.especiales'
  -> Visibilidad condicional para 'barra_estado_controles': true
  [ToolbarManager] Notificando a BackgroundControlManager para que se re-inicialice...
--- [ToolbarManager] Reconstrucción de toolbars completada. ---
  [Controller] Configurando atajos de teclado globales...
  -> Atajos de teclado globales configurados para teclado estándar y numérico.
[GeneralController] Configurando listeners de entrada globales para todos los modos...
[GeneralController] Encontrados 12 componentes etiquetados como 'WHEEL_NAVIGABLE'.
[GeneralController] Listeners de entrada globales configurados.
[VisorController Internal] Configurando listeners para listas de VISUALIZADOR y CARRUSEL...
  -> Listener añadido a 'list.nombresArchivo'
  -> Listener de miniaturas añadido a 'list.miniaturas' (VISOR)
  -> Listener de miniaturas añadido a 'list.miniaturas.carousel' (CARRUSEL)
[VisorController Internal] Listeners de listas configurados.
  [VisorController] Configurando Menús Contextuales...
    -> Menú contextual añadido a label.imagenPrincipal.
    -> Menú contextual añadido a list.nombresArchivo.
    -> Menú contextual añadido a list.miniaturas.
  [VisorController] Menús Contextuales configurados.
[GeneralController] Inicializado.

--- [ConfigAppManager] Sincronizando estado lógico para Action: cmd.vista.switch_to_visualizador ---
--- Fin sincronización lógica para cmd.vista.switch_to_visualizador ---


--- [ConfigAppManager] Sincronizando estado lógico para Action: cmd.proyecto.gestionar ---
--- Fin sincronización lógica para cmd.proyecto.gestionar ---


--- [ConfigAppManager] Sincronizando estado lógico para Action: DATOS ---
--- Fin sincronización lógica para DATOS ---


--- [ConfigAppManager] Sincronizando estado lógico para Action: EDICION ---
--- Fin sincronización lógica para EDICION ---


--- [ConfigAppManager] Sincronizando estado lógico para Action: CARROUSEL ---
--- Fin sincronización lógica para CARROUSEL ---

[GeneralController] Sincronizados botones de modo. Activo: cmd.vista.switch_to_visualizador
  [VisorModel] Carpeta raíz INICIAL para contexto VISUALIZADOR establecida a: D:\Programacion\Eclipse\Workspace 2024-12R\VisorImagenes\resources
--- [ConfigApplicationManager] Aplicando configuración globalmente... ---
  [ConfigAppManager] Aplicando configuración al Modelo...
[VisorModel] Inicializando estado por defecto de todos los contextos...
[Model] Estableciendo DisplayMode inicial a: SINGLE_IMAGE
  -> Configuración del Modelo aplicada.
  [ConfigAppManager] Verificando y sembrando colores de fondo por defecto...
  [AppInitializer] Ejecutando sincronización maestra INICIAL...
--- [GeneralController] INICIANDO SINCRONIZACIÓN MAESTRA DE UI ---

--- [ConfigAppManager] Sincronizando estado lógico para Action: cmd.vista.switch_to_visualizador ---
--- Fin sincronización lógica para cmd.vista.switch_to_visualizador ---


--- [ConfigAppManager] Sincronizando estado lógico para Action: cmd.proyecto.gestionar ---
--- Fin sincronización lógica para cmd.proyecto.gestionar ---


--- [ConfigAppManager] Sincronizando estado lógico para Action: DATOS ---
--- Fin sincronización lógica para DATOS ---


--- [ConfigAppManager] Sincronizando estado lógico para Action: EDICION ---
--- Fin sincronización lógica para EDICION ---


--- [ConfigAppManager] Sincronizando estado lógico para Action: CARROUSEL ---
--- Fin sincronización lógica para CARROUSEL ---

[GeneralController] Sincronizados botones de modo. Activo: cmd.vista.switch_to_visualizador
[DisplayModeManager] Sincronizando botones de DisplayMode. Activo: SINGLE_IMAGE

--- [ConfigAppManager] Sincronizando estado lógico para Action: cmd.vista.single ---
--- Fin sincronización lógica para cmd.vista.single ---


--- [ConfigAppManager] Sincronizando estado lógico para Action: cmd.vista.grid ---
--- Fin sincronización lógica para cmd.vista.grid ---


--- [ConfigAppManager] Sincronizando estado lógico para Action: cmd.vista.polaroid ---
--- Fin sincronización lógica para cmd.vista.polaroid ---

  [VisorController] Sincronizando componentes específicos del modo Visualizador...
[VisorController] Sincronizando UI de Zoom: Paneo=true, Modo=Ajustar a Pantalla, ZoomAlCursor=true

--- [ConfigAppManager] Sincronizando estado lógico para Action: cmd.zoom.manual.toggle ---
--- Fin sincronización lógica para cmd.zoom.manual.toggle ---


--- [ConfigAppManager] Sincronizando estado lógico para Action: cmd.zoom.tipo.especificado ---
--- Fin sincronización lógica para cmd.zoom.tipo.especificado ---


--- [ConfigAppManager] Sincronizando estado lógico para Action: cmd.zoom.tipo.alto ---
--- Fin sincronización lógica para cmd.zoom.tipo.alto ---


--- [ConfigAppManager] Sincronizando estado lógico para Action: cmd.zoom.tipo.auto ---
--- Fin sincronización lógica para cmd.zoom.tipo.auto ---


--- [ConfigAppManager] Sincronizando estado lógico para Action: cmd.zoom.tipo.rellenar ---
--- Fin sincronización lógica para cmd.zoom.tipo.rellenar ---


--- [ConfigAppManager] Sincronizando estado lógico para Action: cmd.zoom.tipo.fijo ---
--- Fin sincronización lógica para cmd.zoom.tipo.fijo ---


--- [ConfigAppManager] Sincronizando estado lógico para Action: cmd.zoom.tipo.ajustar ---
--- Fin sincronización lógica para cmd.zoom.tipo.ajustar ---


--- [ConfigAppManager] Sincronizando estado lógico para Action: cmd.zoom.tipo.ancho ---
--- Fin sincronización lógica para cmd.zoom.tipo.ancho ---


--- [ConfigAppManager] Sincronizando estado lógico para Action: null ---
--- Fin sincronización lógica para null ---

[VisorController] Sincronización completa de la UI de Zoom finalizada.

--- [ConfigAppManager] Sincronizando estado lógico para Action: cmd.toggle.subcarpetas ---
--- Fin sincronización lógica para cmd.toggle.subcarpetas ---

  -> Sincronizados controles de subcarpetas. Estado actual (incluir): true
--- [GeneralController] SINCRONIZACIÓN MAESTRA DE UI COMPLETADA ---

--- [BackgroundControlManager] Iniciando y enlazando controles de fondo ---
--- [BackgroundControlManager] Enlace de controles completado. 6 botones de fondo gestionados. ---
[BackgroundControlManager] Sincronizando selección de botón de color...
    -> BackgroundControlManager inicializado y enlazado a la UI.
--- [AppInitializer Fase B - EDT] Inicialización de UI completada. La aplicación está lista. ---

--- [BackgroundControlManager] Iniciando y enlazando controles de fondo ---
--- [BackgroundControlManager] Enlace de controles completado. 6 botones de fondo gestionados. ---
[BackgroundControlManager] Sincronizando selección de botón de color...
  [ConfigAppManager] Aplicando configuración a la Vista (usando Registry)...
    -> Aplicando estado inicial de fondo a cuadros desde config: false

--- [BackgroundControlManager] Iniciando y enlazando controles de fondo ---
--- [BackgroundControlManager] Enlace de controles completado. 6 botones de fondo gestionados. ---
[BackgroundControlManager] Sincronizando selección de botón de color...
    -> Configuración básica de Vista aplicada.

-->>> INICIO cargarListaImagenes(String, Runnable) | Mantener Clave: Land of The Frost.jpg
[VisorController.cargarListaImagenes] mostrarSoloCarpeta= false
  -> Limpiando caché de ThumbnailService antes de nueva carga...
[ThumbnailService] Caché de miniaturas limpiado.
[Controller] Limpiando UI y Modelo a estado vacío...
  -> Estado de imagen y selección en modelo limpiado.
  -> Vista actualizada a estado vacío (imagen principal y miniaturas).
[ThumbnailService] Caché de miniaturas limpiado.
  -> Caché de miniaturas limpiado.

--- [ConfigAppManager] Sincronizando estado lógico para Action: cmd.proyecto.toggle_marca ---
--- Fin sincronización lógica para cmd.proyecto.toggle_marca ---

  [Controller] Estado visual de 'Marcar' actualizado. Marcada: false
  [SwitchToVisualizadorAction] Sincronizada acción 'Modo Visualizador'. Seleccionado: true
[Controller] Limpieza de UI y Modelo completada.
[Dialogo Progreso] Asignando worker: BuscadorArchivosWorker
  [Worker BG] Iniciando búsqueda en D:\Programacion\Eclipse\Workspace 2024-12R\VisorImagenes\resources con profundidad 2147483647
  [Worker BG] Files.walk terminado. Archivos encontrados: 376
[Worker EDT] Método done() alcanzado.
[Dialogo Progreso] Solicitud de cierre.
  -> [EDT] Cerrando diálogo...
  -> [EDT] Diálogo cerrado y desechado.
    WORKER HA TERMINADO. Número de archivos encontrados: 376
    -> Ordenando 376 claves...
    -> Creando modelo de lista en bloque...
    -> Modelo creado. Actualizando el modelo principal de la aplicación...
[Model] Actualizando contexto de lista para el modo: VISUALIZADOR
### DEBUG CONTEXT: ListContext@7ac0b8ba: SelectedKey set to NULL (old key not found or was null).
### DEBUG CONTEXT: ListContext@7ac0b8ba actualizado. Nuevo tamaño: 376
[VisorView] Modelo asignado a 'list.nombresArchivo'. Tamaño: 376
[ListCoordinator] Nueva selección. Modo: VISUALIZADOR. Índice: 3
--> [actualizarImagenPrincipal] Iniciando carga para clave: 'Land of The Frost.jpg'
  [CalcularMiniaturas] Rango dinámico calculado -> Antes: 8, Despues: 15
[Controller] Iniciando pre-calentamiento de caché para 19 miniaturas...
[Controller] 19 tareas de pre-calentamiento de caché lanzadas al ExecutorService.
  [SwitchToVisualizadorAction] Sincronizada acción 'Modo Visualizador'. Seleccionado: true
  [Callback Post-Carga] Carga inicial completada. Aplicando estado final de UI...
    -> [Callback] Sincronizando DisplayMode final a: SINGLE_IMAGE
    -> [Callback] Forzando refresco de las listas visuales...
  -> Solicitando repintado inicial de listaMiniaturas.
  [actualizarImagenPrincipal] Aplicando modo de zoom actual...

--- [ConfigAppManager] Sincronizando estado lógico para Action: cmd.proyecto.toggle_marca ---
--- Fin sincronización lógica para cmd.proyecto.toggle_marca ---

  [Controller] Estado visual de 'Marcar' actualizado. Marcada: false
  [SwitchToVisualizadorAction] Sincronizada acción 'Modo Visualizador'. Seleccionado: true
[GestionarProyectoAction] Solicitando cambio al modo PROYECTO...

--- [GeneralController] INICIANDO TRANSICIÓN DE MODO: VISUALIZADOR -> PROYECTO ---
  [ProjectController] Preparando datos para el modo proyecto...
### DEBUG CONTEXT: ListContext@1995070a: SelectedKey set to NULL (old key not found or was null).
### DEBUG CONTEXT: ListContext@1995070a actualizado. Nuevo tamaño: 34
    -> Datos del proyecto preparados en proyectoListContext. Total de imágenes (selección + descartes): 34
  [GeneralController] Saliendo del modo: VISUALIZADOR
[Model] Cambiando modo de trabajo de VISUALIZADOR a: PROYECTO
  [GeneralController] Entrando en modo: PROYECTO
--- [GeneralController] TRANSICIÓN DE MODO COMPLETADA a PROYECTO ---

    -> [EDT-1] Cambiando tarjeta del CardLayout a: PROYECTO
[ViewManager] Vista cambiada en 'container.workmodes' a: VISTA_PROYECTOS
    -> [EDT-2] Restaurando y sincronizando UI para: PROYECTO
  [ProjectController] Activando la UI de la vista de proyecto...
  [ProjectController] Lista de descartes actualizada en la UI. Total: 3
[ProjectListCoordinator] Nueva selección en Proyecto. Clave: F:/ARCHIVOS 3D/Chibi/FutureWorld/Chibi_Vader/images/6635dc6c8757c1f194145439b7fea582_preview_featured.jpg
--> [actualizarImagenPrincipal] Iniciando carga para clave: 'F:/ARCHIVOS 3D/Chibi/FutureWorld/Chibi_Vader/images/6635dc6c8757c1f194145439b7fea582_preview_featured.jpg'
  [SwitchToVisualizadorAction] Sincronizada acción 'Modo Visualizador'. Seleccionado: false
  [GeneralController] Actualizando estado de la UI para el modo: PROYECTO
  [DEBUG-SYNC] Modo: PROYECTO, Valor de isMostrarSoloCarpetaActual() en modelo: false

--- [ConfigAppManager] Sincronizando estado lógico para Action: cmd.toggle.subcarpetas ---
--- Fin sincronización lógica para cmd.toggle.subcarpetas ---


--- [ConfigAppManager] Sincronizando estado lógico para Action: cmd.toggle.mantener_proporciones ---
--- Fin sincronización lógica para cmd.toggle.mantener_proporciones ---

  [GeneralController] Estado de la UI actualizado.

--- [ToolbarManager] Iniciando reconstrucción del contenedor de toolbars para el modo: PROYECTO ---
  -> Visibilidad condicional para 'zoom': true
  [ToolbarManager getToolbar] La barra 'proyecto' no está en caché. Construyéndola ahora...

--- [ToolbarBuilder] Construyendo barra: 'Acciones de Proyecto' ---
ComponentRegistry WARN: La clave 'interfaz.boton.proyecto.todo_funcionalidad_pendiente' ya existe. El componente anterior será sobrescrito.
ComponentRegistry WARN: La clave 'interfaz.boton.proyecto.todo_funcionalidad_pendiente' ya existe. El componente anterior será sobrescrito.
ComponentRegistry WARN: La clave 'interfaz.boton.proyecto.todo_funcionalidad_pendiente' ya existe. El componente anterior será sobrescrito.
ComponentRegistry WARN: La clave 'interfaz.boton.proyecto.todo_funcionalidad_pendiente' ya existe. El componente anterior será sobrescrito.
  [DEBUG ToolbarManager] Añadiendo AncestorListener a la barra: 'proyecto'
    -> Barra 'proyecto' registrada en ComponentRegistry con la clave: 'toolbar.proyecto'
  -> Visibilidad condicional para 'barra_estado_controles': true
  [ToolbarManager] Notificando a BackgroundControlManager para que se re-inicialice...
--- [ToolbarManager] Reconstrucción de toolbars completada. ---

--- [ConfigAppManager] Sincronizando estado lógico para Action: cmd.vista.switch_to_visualizador ---
--- Fin sincronización lógica para cmd.vista.switch_to_visualizador ---


--- [ConfigAppManager] Sincronizando estado lógico para Action: cmd.proyecto.gestionar ---
--- Fin sincronización lógica para cmd.proyecto.gestionar ---


--- [ConfigAppManager] Sincronizando estado lógico para Action: DATOS ---
--- Fin sincronización lógica para DATOS ---


--- [ConfigAppManager] Sincronizando estado lógico para Action: EDICION ---
--- Fin sincronización lógica para EDICION ---


--- [ConfigAppManager] Sincronizando estado lógico para Action: CARROUSEL ---
--- Fin sincronización lógica para CARROUSEL ---

[GeneralController] Sincronizados botones de modo. Activo: cmd.proyecto.gestionar
    -> [EDT-2] Restauración de UI para PROYECTO completada.
  [actualizarImagenPrincipal] Aplicando modo de zoom actual...

--- [ConfigAppManager] Sincronizando estado lógico para Action: cmd.proyecto.toggle_marca ---
--- Fin sincronización lógica para cmd.proyecto.toggle_marca ---

  [Controller] Estado visual de 'Marcar' actualizado. Marcada: true
  [SwitchToVisualizadorAction] Sincronizada acción 'Modo Visualizador'. Seleccionado: false
  [ProjectController] UI de la vista de proyecto activada y restaurada.

--- [BackgroundControlManager] Iniciando y enlazando controles de fondo ---
--- [BackgroundControlManager] Enlace de controles completado. 6 botones de fondo gestionados. ---
[BackgroundControlManager] Sincronizando selección de botón de color...
[ChangeListener] Pestaña 'Exportar' seleccionada. Solicitando preparación de cola...
[ExportQueueManager] Preparando cola para 31 imágenes.
[ExportQueueManager] Preparación de cola finalizada.
[ProjectController] Modelo de tabla de exportación actualizado.
  [ProjectController] Estado de exportación UI actualizado. Puede exportar: false
[SwitchWorkModeAction] Acción disparada para cambiar a WorkMode: CARROUSEL

--- [GeneralController] INICIANDO TRANSICIÓN DE MODO: PROYECTO -> CARROUSEL ---
  [GeneralController] Saliendo del modo: PROYECTO
[Model] Cambiando modo de trabajo de PROYECTO a: CARROUSEL
  [GeneralController] Entrando en modo: CARROUSEL
--- [GeneralController] TRANSICIÓN DE MODO COMPLETADA a CARROUSEL ---

    -> [EDT-1] Cambiando tarjeta del CardLayout a: CARROUSEL
[ViewManager] Vista cambiada en 'container.workmodes' a: VISTA_CARROUSEL_WORKMODE
    -> [EDT-2] Restaurando y sincronizando UI para: CARROUSEL
      -> Sincronización OFF y Carrusel vacío: Clonando desde Visualizador (primera vez).
    [ListContext.clonarDesde] Clonando 'mostrarSoloCarpetaActual'. Valor: false
    -> Restaurando UI para el modo CARRUSEL...
      -> Clave guardada en contexto CARRUSEL: 'Land of The Frost.jpg'
[ListCoordinator] Nueva selección. Modo: CARROUSEL. Índice: 3
--> [actualizarImagenPrincipal] Iniciando carga para clave: 'Land of The Frost.jpg'
  [CalcularMiniaturas] WARN: Viewport/Cell inválido o ScrollPane no visible. Usando MÁXIMOS configurados como fallback.
[Controller] Iniciando pre-calentamiento de caché para 19 miniaturas...
[Controller] 19 tareas de pre-calentamiento de caché lanzadas al ExecutorService.
  [SwitchToVisualizadorAction] Sincronizada acción 'Modo Visualizador'. Seleccionado: false
[CarouselManager] Entrando en modo Carrusel...
[CarouselManager] Deteniendo carrusel.
  [GeneralController] Actualizando estado de la UI para el modo: CARROUSEL
  [DEBUG-SYNC] Modo: CARROUSEL, Valor de isMostrarSoloCarpetaActual() en modelo: false

--- [ConfigAppManager] Sincronizando estado lógico para Action: cmd.toggle.subcarpetas ---
--- Fin sincronización lógica para cmd.toggle.subcarpetas ---


--- [ConfigAppManager] Sincronizando estado lógico para Action: cmd.toggle.mantener_proporciones ---
--- Fin sincronización lógica para cmd.toggle.mantener_proporciones ---

  [GeneralController] Estado de la UI actualizado.

--- [ToolbarManager] Iniciando reconstrucción del contenedor de toolbars para el modo: CARROUSEL ---
  [ToolbarManager getToolbar] La barra 'carrousel' no está en caché. Construyéndola ahora...

--- [ToolbarBuilder] Construyendo barra: 'Carrousel' ---
  [DEBUG ToolbarManager] Añadiendo AncestorListener a la barra: 'carrousel'
    -> Barra 'carrousel' registrada en ComponentRegistry con la clave: 'toolbar.carrousel'
  [ToolbarManager getToolbar] La barra 'velocidad_carrousel' no está en caché. Construyéndola ahora...

--- [ToolbarBuilder] Construyendo barra: 'Velocidad' ---
    -> JLabel 'label.velocidad.carrusel' añadido a la barra.
    -> Separador añadido a la barra.
  [DEBUG ToolbarManager] Añadiendo AncestorListener a la barra: 'velocidad_carrousel'
    -> Barra 'velocidad_carrousel' registrada en ComponentRegistry con la clave: 'toolbar.velocidad_carrousel'
  -> Visibilidad condicional para 'barra_estado_controles': true
  [ToolbarManager] Notificando a BackgroundControlManager para que se re-inicialice...
--- [ToolbarManager] Reconstrucción de toolbars completada. ---
    -> [EDT-2] Conectando listeners de la UI del Carrusel...
[CarouselManager] Buscando y configurando botones de avance/retroceso rápido...
  -> Botón Rewind encontrado y configurado.
  -> Botón Fast Forward encontrado y configurado.
[CarouselManager] Configurando listeners de eventos especiales...
  -> MouseListener para menú de velocidad añadido a 'label.velocidad.carrusel'.

--- [ConfigAppManager] Sincronizando estado lógico para Action: cmd.vista.switch_to_visualizador ---
--- Fin sincronización lógica para cmd.vista.switch_to_visualizador ---


--- [ConfigAppManager] Sincronizando estado lógico para Action: cmd.proyecto.gestionar ---
--- Fin sincronización lógica para cmd.proyecto.gestionar ---


--- [ConfigAppManager] Sincronizando estado lógico para Action: DATOS ---
--- Fin sincronización lógica para DATOS ---


--- [ConfigAppManager] Sincronizando estado lógico para Action: EDICION ---
--- Fin sincronización lógica para EDICION ---


--- [ConfigAppManager] Sincronizando estado lógico para Action: CARROUSEL ---
--- Fin sincronización lógica para CARROUSEL ---

[GeneralController] Sincronizados botones de modo. Activo: cmd.vista.carousel
    -> [EDT-2] Restauración de UI para CARROUSEL completada.
  -> Solicitando repintado inicial de listaMiniaturas.

--- [BackgroundControlManager] Iniciando y enlazando controles de fondo ---
--- [BackgroundControlManager] Enlace de controles completado. 6 botones de fondo gestionados. ---
[BackgroundControlManager] Sincronizando selección de botón de color...
  [actualizarImagenPrincipal] Aplicando modo de zoom actual...

--- [ConfigAppManager] Sincronizando estado lógico para Action: cmd.proyecto.toggle_marca ---
--- Fin sincronización lógica para cmd.proyecto.toggle_marca ---

  [Controller] Estado visual de 'Marcar' actualizado. Marcada: false
  [SwitchToVisualizadorAction] Sincronizada acción 'Modo Visualizador'. Seleccionado: false
--- [Controller] Iniciando apagado de la aplicación ---
  [Guardar] Guardando estado final de todos los contextos...
  [Guardar] Estado Visualizador: UltimaKey=Land of The Frost.jpg, UltimaCarpeta=D:\Programacion\Eclipse\Workspace 2024-12R\VisorImagenes\resources
  [Guardar] Estado Proyecto: Foco=seleccion, SelKey=F:/ARCHIVOS 3D/Chibi/FutureWorld/Chibi_Vader/images/6635dc6c8757c1f194145439b7fea582_preview_featured.jpg, DescKey=null
  [Guardar] Estado Carrusel/Sync: Sync=false, UltimaCarpeta=null
!!! DEBUG: Guardando mapa. HashCode del mapa recibido: 601377307

[ConfigurationManager guardarConfiguracion] === INICIO GUARDADO ===
[ConfigurationManager guardarConfiguracion] Intentando guardar en: config.cfg
[ConfigurationManager guardarConfiguracion] Valor de 'tema.nombre' que se intentará guardar: 'clear'
--- DEBUG: Contenido del mapa a guardar ---
  -> ¡ENCONTRADO! comportamiento.navegacion.tamano_salto_bloque = 10
------------------------------------------
Guardando configuración (preservando estructura) en config.cfg
Claves a guardar/actualizar: 158
Archivo de configuración actualizado exitosamente.
  [Guardar] Configuración guardada exitosamente.
  -> Apagando ExecutorService...
  -> ExecutorService terminado ordenadamente.
  -> Apagado limpio completado. Saliendo de la JVM con System.exit(0).
