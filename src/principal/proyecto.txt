	este es un proyecto de un visualilzador/catalogador en java/swing. 
	el github es: https://github.com/JavierTortosa/catalogador-imagenes-java.git
	
	Idea general:
	Soy aprendiz de programador y me dedico bastante a menudo a hacer proyectos en 3d. 
	
	Este proyecto nace de la ncesidad de buscar entre cerca de 26000 imagenes.
	Cada una de estas imagenes corresponde a un archivo comprimido que es quien contiene los modelos a imprimir
	
	Los archivos estan separados por carpetas tematicas, las cuales pueden contener varios temas diferentes y de varias formas diferentes
	Para aclararnos, las carpetas pueden ser de cine, herramientes, escenografia, etc., y dentro de cada carpeta puede contener mas carpetas refinando el catalogo de archivos
	El problema es que puede ser por una tematica, cine, o puede ser por un diseñador, punga, o simplemente ser archivos stl con su imagen
	las carpetas tematicas no tienen demasiado problema, pero las de diseñadores pueden contener varios temas, ademas las imagenes pueden ser de 1 modelo o varios
	
	Los proyectos en 3d suelen ser tematicos por ej trofeos para toneo de blood bowl. para este proyecto necesitare buscar: bases, pedestales, una base superior y un modelo que represente el campeon por ej...
	Todo lo referente a trofeos esta en la carpeta trofeos, dentro hay otras carpetas de bases, pedestales, etc... 
	Luego tengo que ir buscando la figura que ira encima del toreo en funcion de la tematica del torneo, pongamos skaven. 
	El kit de la cuestion es buscar entre las 26000 imagenes, algun modelo que sea de la tematica que busco y que me sirva para el trofeo... 
	
	Lo que pretendo con este proyecto es poder agilizar dicha busqueda.


El programa:

El programa tiene 3 partes:
	Visualizador
	Gestor de proyectos
	catalogador de imagenes
	
Este es el orden en el que pretendo abordar el proyecto, ya que primero necesito un programa agil y rapido que me permita visualizar las imagenes rapidamente
En este punto tenemos varias herramientas:


-- El Visualizador --

	La interfaz:
		En la parte superior tiene un menu con la totalidad de opciones disponibles en el programa y una opcion de configuracion que en un futuro sera mucho mas completa
		A continuacion la barra de botones, que iran distribuidos en varias barras de herramientas y que segun donde estemos se mostraran unas herramientas u otras
			(no tiene ningun sentido que se visualicen los botones de movimiento en el carrousel si estamos editando una imagen) 
		En el centro de la aplicacion tenemos 3 partes:
			1. la lista de nombres de archivos (por si sabemos el nobmre de lo que buscamos y ordenacion de los archivos (nombre, carpeta, fecha...)
			2. la lista de miniaturas es la misma lista de nombres pero mostrando una pequeña lista de imagenes para navegacion rapida 
			3. vista de la imagen seleccionada. es la vista principal de la imagen seleccionada
		
	Formas de visualizar la interfaz 
		
		1. Navegador por carpetas, un selector de carpetas donde empezar la visualizacion de las imagenes
		2. Una opcion para que Se puede visualizar la carpeta actual o con las subcarpetas. muy util por la distribucion de las carpetas que tenemos
		3. Zoom. Hay 2 tipos:
			1. Zoom Manual que me permite acercar o alejar la imagen o moverla (muy practico en las imgaenes multiples)
			2. Tipos de zoom: son varias formas de ver las imagenes (sin restriccciones, ajutas al espacion maximo, ajustar al alto/ancho....)
				Este segundo tipo tiene una opcion para mantener o no las proporciones de la imagen
		2. Modos de visualizacion: 1 imagen, grid de imagenes, etc....
		3. Complemento al Modo de visualizacion: pantalla compeleta y carrousel
		4. Tanto el menu, como las diferentes listas, botones, etc se pueden hacer visibles o no... para ganar espacio de visualizacion
	
	Edicion
	
		1. la funciones basicas, rotar izq. y der., espejo horizonta y vertical
		2. Un modo de recortar (para las imagenes multiples) pero que sera capaz de de poder modificar la imagen actual 
			(tendra una serie de opciones para pegar el recorte en la imagen original, separar el recorte de la imagen original....)
		3. Varias formas de guardado tanto de la imagen nueva como la original como la modificacion.... 
		

-- Gestor de Proyectos --
					
	Se distribuye en varias fases: 
		1. una opcion de marcar las imagenes que nos interesa y añadir el archivo con su ruta en un txt temporal 
		2. Un visualizador de las imagenes marcadas (cambiando el foco entre las carpetas del disco o el contenido del txt)
		3. El archivo temporal se puede guardar con un nombre concreto y se pueden gestionar los diferentes proyectos
		
		
-- Catalogador de Imagenes --

	Es el grueso de la aplicacion, gestionando una base de datos o metadatos o algo similar en donde poder catalogar las imagenes, de tal forma que pueda buscar elfos, enanos, etc.
	Con la base de datos podremos implementar un gestor de proyectos que pueda ser mas refinado, el uso de tags, pero el trabajo de introducir los de 26000 imagenes puede ser duro.
	La complicacion mas grande de catalogar las imagenes es el tema de que la cantidad de archivos que tengo ahora y que va creciendo y por lo tanto se van refinando las carpetas
		(una carpeta que empezo siendo cine, ahora tiene star wars, señor de los anillos.... y dentro de star wars esta la carpeta de naves, personajes, droides... y asi hasta el infinito....

		 
		 
--------------------------------


**Prompt para Retomar la Conversación del "Visor/Catalogador de Imágenes"**

**De qué va el programa:**
Estoy desarrollando una aplicación de escritorio en Java/Swing llamada **"Visor/Catalogador de Imágenes"**. Su propósito principal es ayudarme a **navegar y encontrar imágenes específicas dentro de una gran colección personal (aproximadamente 26,000 imágenes y creciendo) que utilizo para mis proyectos de modelado e impresión 3D.** Cada imagen visualizada corresponde a un archivo comprimido (`.zip`, `.rar`) que contiene los modelos 3D relacionados con esa imagen. Los archivos de imagen están organizados en una estructura de carpetas temáticas que pueden tener múltiples niveles de anidamiento.

El objetivo de la aplicación es **agilizar la búsqueda y selección de estos modelos 3D** permitiendo la visualización rápida de sus imágenes de previsualización, el etiquetado/catalogación (futuro), y la creación de "proyectos" o colecciones de imágenes seleccionadas. Se planea con varios modos de visualización (Normal/Detalle, Grid, Carrusel) y funcionalidades de pantalla completa.

**Qué estamos haciendo ahora (Objetivo Actual de la Conversación):**
Estamos implementando y refinando **dos barras de información/control** en la aplicación:

1.  **Barra de Información Superior:**
    *   **Ubicación:** Debajo de la toolbar principal, encima del visor de imagen.
    *   **Disposición Conceptual:**
        *   Izquierda (Expansible): Nombre del Archivo.
        *   Centro: Dimensiones Originales, Tamaño Archivo (futuro), Fecha Archivo (futuro).
        *   Derecha (después de un separador doble/grande): Índice Actual/Total, % Zoom Visual Resultante, Nombre del Modo de Zoom Activo.
    *   **Estado Actual:** Visualmente implementada y mostrando información dinámica correctamente (excepto tamaño/fecha).

2.  **Barra de Estado/Control Inferior:**
    *   **Disposición Conceptual:**
        *   Izquierda/Centro (Expansible): Ruta completa del archivo.
        *   Sección Derecha (Controles):
            *   Indicadores de Icono Clickeables: Zoom Manual (ZM), Mantener Proporciones (Prop), Modo Subcarpetas (SubC). El fondo del icono cambia para indicar estado ON/OFF.
            *   Control "% Zoom Especificado": Botón/label clickeable que muestra el último % especificado persistente. Al hacer clic, un `JPopupMenu` permite seleccionar % predefinidos o "Otro..." (que pide input). Cualquier selección actualiza el % persistente y activa el modo `ZoomModeEnum.USER_SPECIFIED_PERCENTAGE`.
            *   Control "Modo de Zoom Actual": Icono del modo activo, clickeable para cambiar a otro modo vía `JPopupMenu` (usando las `AplicarModoZoomAction` existentes).
        *   Extrema Derecha: `JLabel` para mensajes temporales.
    *   **Estado Actual:**
        *   Muestra la ruta del archivo correctamente.
        *   Muestra los indicadores ZM, Prop, SubC como iconos cuyo fondo cambia con el estado. Son clickeables y activan/desactivan los toggles correspondientes.
        *   **Pendiente de implementar:** El control "% Zoom Especificado" y el control "Modo de Zoom Actual".

**Interacciones Específicas del Zoom que hemos Discutido:**
*   El botón "% Zoom Especificado" en la barra inferior siempre muestra el valor de la configuración `"zoom.personalizado.porcentaje"`.
*   Cuando se activa el modo `ZoomModeEnum.MAINTAIN_CURRENT_ZOOM` ("Zoom Fijo"), el `model.getZoomFactor()` actual se guarda en `"zoom.personalizado.porcentaje"`.
*   Si el "Zoom Manual" está activo y el modo es `MAINTAIN_CURRENT_ZOOM`, los cambios con la rueda del ratón actualizan `model.getZoomFactor()` Y también actualizan `"zoom.personalizado.porcentaje"` en la configuración.
*   El ítem de menú "Zoom > Zoom Personalizado %..." pide un input, actualiza `"zoom.personalizado.porcentaje"` en la config, y luego activa el modo `USER_SPECIFIED_PERCENTAGE`.

**Por dónde vamos (Estado de la Implementación):**
*   La estructura de `VisorView` ha sido refactorizada para ser modular.
*   El problema de solapamiento de barras está resuelto.
*   El problema de restauración de tamaño/posición de ventana está resuelto.
*   `InfoBarManager` está actualizando la barra superior y los indicadores (iconos con fondo) de la barra inferior.
*   Los indicadores ZM, Prop, SubC en la barra inferior son clickeables y funcionales.
*   El rendimiento de carga de carpetas grandes ha mejorado.

**Qué nos falta por hacer (Tarea Inmediata Propuesta):**
Implementar el control **"% Zoom Especificado"** en la barra de estado/control inferior (el botón/label con el `JPopupMenu` para seleccionar/ingresar porcentajes).

**Listado de Clases Clave que me has pasado para Contexto (puedes añadir más si es necesario):**
1.  `vista.VisorView`
2.  `controlador.VisorController`
3.  `controlador.AppInitializer`
4.  `modelo.VisorModel`
5.  `controlador.managers.ZoomManager`
6.  `controlador.ListCoordinator`
7.  `servicios.ConfigurationManager`
8.  `controlador.managers.InfoBarManager` (el esqueleto/versión actual)
9.  `controlador.factory.ActionFactory`
10. `vista.renderers.MiniaturaListCellRenderer`
11. `vista.config.UIDefinitionService`
12. `vista.config.MenuItemDefinition`
13. `vista.builders.MenuBarBuilder`
14. `controlador.managers.ViewManager`
15. `controlador.worker.BuscadorArchivosWorker`
16. `vista.util.IconUtils`
17. `vista.theme.ThemeManager`
18. `vista.theme.Tema`
19. `controlador.actions.zoom.AplicarModoZoomAction`
20. `controlador.actions.vista.ToggleLocationBarAction`
21. `controlador.managers.EditionManager`
22. `controlador.actions.toggle.ToggleProporcionesAction`
23. `controlador.actions.toggle.ToggleSubfoldersAction`
24. `controlador.actions.zoom.ToggleZoomManualAction`
25. `controlador.actions.BaseVisorAction`
26. `principal.VisorV2` (clase main)

---

Espero que este resumen te sea útil para cuando retomemos. ¡Buenas noches!
